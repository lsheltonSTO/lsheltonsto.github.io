<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/images/LTS.png><title>From Concept to Chatbot: ServiceNow with Copilot Studio - Part 3 - Lindsay T Shelton</title><meta name=description content="Head back to the intro post to get the use case and architecture of the Copilot Studio bots I&rsquo;ll be describing in these blog posts.
Next up is a big one - Conversational Boosting. Again, note that most of this content was adapted from this amazing video from Dewain Robinson here - this is just what I got working with the UI changes that have happened since the video first came out five months ago (now being October 2024, so who knows when the UI will change again)."><meta name=author content="Lindsay Shelton"><meta name=generator content="Hugo 0.108.0"><link rel=stylesheet href="https://blist.vercel.app/css/styles.min.c0846aac9db6c87efe354bad93a5e4432ef35cc12598aeed07df50323381cc06.css" integrity="sha256-wIRqrJ22yH7+NUutk6XkQy7zXMElmK7tB99QMjOBzAY="><meta property="og:title" content="From Concept to Chatbot: ServiceNow with Copilot Studio - Part 3"><meta property="og:description" content="Head back to the intro post to get the use case and architecture of the Copilot Studio bots I&rsquo;ll be describing in these blog posts.
Next up is a big one - Conversational Boosting. Again, note that most of this content was adapted from this amazing video from Dewain Robinson here - this is just what I got working with the UI changes that have happened since the video first came out five months ago (now being October 2024, so who knows when the UI will change again)."><meta property="og:type" content="article"><meta property="og:url" content="https://blist.vercel.app/blog/202409from_concept_to_chatbot_servicenow_with_copilot_studio_part3/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-10-07T08:29:05-05:00"><meta property="article:modified_time" content="2024-10-07T08:29:05-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="From Concept to Chatbot: ServiceNow with Copilot Studio - Part 3"><meta name=twitter:description content="Head back to the intro post to get the use case and architecture of the Copilot Studio bots I&rsquo;ll be describing in these blog posts.
Next up is a big one - Conversational Boosting. Again, note that most of this content was adapted from this amazing video from Dewain Robinson here - this is just what I got working with the UI changes that have happened since the video first came out five months ago (now being October 2024, so who knows when the UI will change again)."><meta itemprop=name content="From Concept to Chatbot: ServiceNow with Copilot Studio - Part 3"><meta itemprop=description content="Head back to the intro post to get the use case and architecture of the Copilot Studio bots I&rsquo;ll be describing in these blog posts.
Next up is a big one - Conversational Boosting. Again, note that most of this content was adapted from this amazing video from Dewain Robinson here - this is just what I got working with the UI changes that have happened since the video first came out five months ago (now being October 2024, so who knows when the UI will change again)."><meta itemprop=datePublished content="2024-10-07T08:29:05-05:00"><meta itemprop=dateModified content="2024-10-07T08:29:05-05:00"><meta itemprop=wordCount content="1180"><meta itemprop=keywords content="power automate,copilot studio,service-now,how to,"></head><body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative"><a href=https://blist.vercel.app/ class="capitalize font-extrabold text-2xl"><img src=/images/LTS2.png alt="Lindsay T Shelton" class="h-8 max-w-full"></a>
<button class="mobile-menu-button md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800"><li><a href=/blog>Blog</a></li><li><a href=/page/about/>About</a></li><li><a href=/tags>Tags</a></li><li class="grid place-items-center"><span class="open-search inline-block cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></span></li><li class="grid place-items-center"><span class="toggle-dark-mode inline-block cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="5" x2="12" y2="5.01"/><line x1="17" y1="7" x2="17" y2="7.01"/><line x1="19" y1="12" x2="19" y2="12.01"/><line x1="17" y1="17" x2="17" y2="17.01"/><line x1="12" y1="19" x2="12" y2="19.01"/><line x1="7" y1="17" x2="7" y2="17.01"/><line x1="5" y1="12" x2="5" y2="12.01"/><line x1="7" y1="7" x2="7" y2="7.01"/></svg></span></li></ul></header><main class=flex-1><article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4"><h1 class="text-2xl font-bold mb-2">From Concept to Chatbot: ServiceNow with Copilot Studio - Part 3</h1><h5 class="text-sm flex items-center flex-wrap"><svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><rect x="8" y="15" width="2" height="2"/></svg>Posted on
October 7, 2024
&nbsp;&bull;&nbsp;<svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
6&nbsp;minutes
&nbsp;&bull;<svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6a9 9 0 019 0 9 9 0 019 0"/><line x1="3" y1="6" x2="3" y2="19"/><line x1="12" y1="6" x2="12" y2="19"/><line x1="21" y1="6" x2="21" y2="19"/></svg>
1180&nbsp;words</h5><details id=TableOfContents class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc"><summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white"><span>Table of contents</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><polyline points="6 9 12 15 18 9"/></svg></summary><ul class="mt-2 pb-4"><li><a href=#conversational-boosting-topic>Conversational Boosting Topic</a></li><li><a href=#bing-custom-search>Bing Custom Search</a></li></ul></details><p>Head back to the <a href=https://www.lindsaytshelton.com/blog/202409from_concept_to_chatbot_servicenow_with_copilot_studio_intro/>intro post</a> to get the use case and architecture of the Copilot Studio bots I&rsquo;ll be describing in these blog posts.</p><p>Next up is a big one - Conversational Boosting. Again, note that most of this content was adapted from this amazing video from <a href="https://www.youtube.com/watch?v=xRsoHOq4oKA">Dewain Robinson here</a> - this is just what I got working with the UI changes that have happened since the video first came out five months ago (now being October 2024, so who knows when the UI will change again).</p><h2 id=conversational-boosting-topic>Conversational Boosting Topic</h2><p>This is where the GenAI puts in the most work, and it also is the most complex topic by far. It is based on a system topic that was just expanded upon.</p><p>It starts by feeding the question to ServiceNow through an Out of the Box connector (remember, in Part 2 we stored the response to the user question in a global variable - we are going to use it here for our query):</p><p><img src=/images/concept_to_chatbot19.png alt=Placeholder></p><p>The limit is set to 3 due to a Copilot restriction – you can only really take in 3 articles for assessment, so we limit it to 3. If you want additional filtering, you can change this action to a Power Automate flow or an HTTP action in Copilot Studio, which I had to do for various iterations of this bot. We will try the path of least resistance for this blog, but let me know if you run into trouble and I can add a 3.5 version of this blog for the advanced scenarios.</p><p>Next, this information needs to be formatted properly for generative answers. So, we click on “Variable management – Set a variable value”. We want to set a new topic variable called FormattedSearchResults. You can create a new variable by clicking the right arrow, clicking “Create a new variable”, and then clicking on the “Var1” variable box to rename it to what you want.</p><p><img src=/images/concept_to_chatbot20.png alt=Placeholder></p><p><img src=/images/concept_to_chatbot21.png alt=Placeholder></p><p><img src=/images/concept_to_chatbot22.png alt=Placeholder></p><p>What we want to set the variable to is the most complicated part we are going to have to do because it does involve some PowerFx coding to build the formatted table correctly. This is the code I&rsquo;m currently using, but it make take some adjustments depending on your environment</p><p><img src=/images/concept_to_chatbot23.png alt=Placeholder></p><p>ForAll(
Topic.articles,
{
Content: Concatenate(title, " - &ldquo;, fields.value),
ContentLocation: Concatenate(
&ldquo;<a href=https://dev251307.service-now.com/now/nav/ui/classic/params/target/kb_view.do%3Fsys_kb_id%3D%22 target=_blank rel=noopener>https://dev251307.service-now.com/now/nav/ui/classic/params/target/kb_view.do%3Fsys_kb_id%3D"</a>
,
Substitute(ThisRecord.id, &ldquo;kb_knowledge:&rdquo;, &ldquo;&rdquo;)
)
}
)</p><p>Make sure you click the “Insert” button to save your changes.</p><p>Now we can use the “Create generative answers” node that was already in this topic, but we have to make edits to it. Note that the Copilot Studio UI is changing frequently, so this accurate as of 10/7/2024.</p><p>For input, we want the Global.UserQuestion variable – click the right arrow to open the menu to select it under “Custom”. Then click the “Edit” hyperlink for “Data sources”:</p><p><img src=/images/concept_to_chatbot24.png alt=Placeholder></p><p>The options we want are hidden currently under a collapsed by default “Classic data” tab – click on “Classic data” to expand it and scroll down to where it says “Custom data”:</p><p><img src=/images/concept_to_chatbot25.png alt=Placeholder></p><p><img src=/images/concept_to_chatbot26.png alt=Placeholder></p><p>For “Custom data”, click the right arrow to insert that new variable we made, “FormattedSearchResults”. This means that this generative answers node will take the user’s question and search the formatted results of our Get Knowledge Articles action results to give us an answer.</p><p>Scroll to the bottom and expand “Advanced” and make sure your settings look like this:</p><p><img src=/images/concept_to_chatbot27.png alt=Placeholder></p><p>If we save and test it out, this is how it should work:</p><p><img src=/images/concept_to_chatbot28.png alt=Placeholder></p><p>When you click on the reference link, if you’ve formed your links correctly in the ForAll formula, it will take you directly to the referenced KB.</p><p>If the Topic.Answer was not blank, we added in a question:</p><p><img src=/images/concept_to_chatbot29.png alt=Placeholder></p><p>If the user selects “No, I’d like to search again”, that “Connector action” is set up as follows:</p><p><img src=/images/concept_to_chatbot30.png alt=Placeholder></p><p>And this is the step/action in question that it takes the user back to (which doesn’t prompt them again, it will just search again):</p><p><img src=/images/concept_to_chatbot31.png alt=Placeholder></p><h2 id=bing-custom-search>Bing Custom Search</h2><p>If there is no answer found in the KBs, we have what is called a fallback source. For “All other conditions”, meaning the answer is blank, we have a second “Create generative answers” node.</p><p><img src=/images/concept_to_chatbot32.png alt=Placeholder></p><p>This source is actually a number of websites that we’ve curated that we want to be searched for an answer, made possible by Bing Custom Search.</p><p>Go to <a href=https://www.customsearch.ai/ target=_blank rel=noopener>https://www.customsearch.ai/</a>
and click “Get Started”.</p><p><img src=/images/concept_to_chatbot33.png alt=Placeholder></p><p>Sign in with a Microsoft account or create one with a service account. This will be where you create your “Custom Search Instance” that you can share with other accounts.</p><p><img src=/images/concept_to_chatbot34.png alt=Placeholder></p><p>If you click on the hyperlinked text “Only you”, it takes you to this interface where you can share the custom search instance with other email addresses.</p><p><img src=/images/concept_to_chatbot35.png alt=Placeholder></p><p>If you click “Configuration” up top, this is where you can add the websites that you’d like the Bing Custom Search to crawl for your answers. This is a sample of what I have set up:</p><p><img src=/images/concept_to_chatbot36.png alt=Placeholder></p><p>List of URLs to copy/paste:</p><ul><li><a href=http://support.microsoft.com/ target=_blank rel=noopener>http://support.microsoft.com/</a></li><li><a href=http://learn.microsoft.com/ target=_blank rel=noopener>http://learn.microsoft.com/</a></li><li><a href=https://www.dell.com/support target=_blank rel=noopener>https://www.dell.com/support</a></li><li><a href=https://www.samsung.com/us/support target=_blank rel=noopener>https://www.samsung.com/us/support</a></li><li><a href=http://support.google.com/android target=_blank rel=noopener>http://support.google.com/android</a></li></ul><p>Important note: you can only go two levels deep with backslashes when trying to add addresses, so you can’t get very specific. The Samsung URL is as deep as you can go into a URL.</p><p>Note that you can rank which sites you’d like to be crawled first, and whether or not you’d like to include the subpages (it’s recommended to keep this at “Yes”). You can also block URLs from the search by clicking the “Blocked” tab or by clicking the circle with the line through it icon next to the URL.</p><p>To add additional websites, just paste in a URL where it says “Type in a URL” at the bottom of the previous screenshot.
When you make changes, it will prompt you to press “Publish” in the top right-hand corner. The value you will need when your Bing Custom Search Instance is ready comes from the “Production” tab at the top. You need to copy the “Custom Configuration ID” and that is what gets pasted into Copilot Studio as the generative answer data source.</p><p><img src=/images/concept_to_chatbot37.png alt=Placeholder></p><p><img src=/images/concept_to_chatbot38.png alt=Placeholder></p><p>Hint: to get the Bing Custom Search dialog to come up, click the blue text that by default says “Search public websites” and change it to “Search with Bing Custom Search”. Also note that this feature, as of 10/7/2024, is under the “Classic Data” collapsed tab.</p><p>When testing this feature, if there are no ServiceNow KB sources found, you as the developer will see this “Only visible to you” box:</p><p><img src=/images/concept_to_chatbot39.png alt=Placeholder></p><p>Note that we again have multiple choice options after an answer is given. Just like before, if the question is answered, we take them to the End of Conversation topic, and if they want to search again, we take them back to the “Get Knowledge Articles” action.</p><p><img src=/images/concept_to_chatbot40.png alt=Placeholder></p><p>There is a new option if both the ServiceNow and the fallbacks haven’t given them the answer they are looking for, which is “No, I’d like to open a ticket with the help desk”&mldr; which will have to wait for Part 4!</p><p>Want to contact me about your own Copilot Studio ServiceNow bot? Do so below!</p><style>form{max-width:600px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:10px;background-color:#f9f9f9}label{display:block;margin-bottom:10px;font-weight:700}input[type=email],textarea{width:100%;padding:10px;margin-bottom:20px;border:1px solid #ccc;border-radius:5px}button[type=submit]{background-color:#ff69b4;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-size:16px}button[type=submit]:hover{background-color:#ff1493}</style><form action=https://formspree.io/f/mqazoelw method=post><label>Your email:
<input type=email name=email required></label>
<label>Your message:
<textarea name=message required></textarea></label>
<button type=submit>Send</button></form><script async src="https://www.googletagmanager.com/gtag/js?id=G-CN3PDT3T20"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CN3PDT3T20")</script><blockquote></blockquote></article><div class="px-2 mb-2"><script src=https://giscus.app/client.js data-repo data-repo-id data-category data-category-id data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en crossorigin=anonymous async></script></div><div class="bg-pink-100 dark:bg-gray-900"><div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center"><div><div class="text-2xl font-bold mb-2">Follow me</div><p class=opacity-60>Follow along for Power Platform, M365, and cat goodness</p></div><ul class="flex justify-center gap-x-3 flex-wrap gap-y-2"><li><a href=https://linkedin.com/in/lindsaytshelton target=_blank rel=noopener aria-label=LinkedIn class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="4" width="16" height="16" rx="2"/><line x1="8" y1="11" x2="8" y2="16"/><line x1="8" y1="8" x2="8" y2="8.01"/><line x1="12" y1="16" x2="12" y2="11"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg></a></li></ul></div></div></main><footer class="container p-6 mx-auto flex justify-between items-center"><span class="text-sm font-light">Copyright © 2024 - Lindsay Shelton · All rights reserved</span>
<span onclick='window.scrollTo({top:0,behavior:"smooth"})' class="p-1 cursor-pointer"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 15l-6-6-6 6h12"/></svg></span></footer><div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden"><div class="container max-w-3xl mx-auto p-12"><div class=relative><div class="my-4 text-center text-2xl font-bold">Search</div><span class="p-2 absolute right-0 top-0 cursor-pointer close-search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></span></div><input type=search class="py-2 px-3 w-full dark:text-black border dark:border-transparent" placeholder="Enter search query"><div class="search-results text-lg font-medium my-4 hidden">Results</div><ul class="search-list my-2"></ul><div class="no-results text-center my-8 hidden"><div class="text-xl font-semibold mb-2">No results found</div><p class="font-light text-sm">Try adjusting your search query</p></div></div></div><script src=https://blist.vercel.app/js/scripts.min.js></script>
<script>const darkmode=document.querySelector(".toggle-dark-mode");function toggleDarkMode(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("darkmode","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("darkmode","dark"))}darkmode&&darkmode.addEventListener("click",toggleDarkMode);const darkStorage=localStorage.getItem("darkmode"),isBrowserDark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;!darkStorage&&isBrowserDark&&document.documentElement.classList.add("dark"),darkStorage&&darkStorage==="dark"&&toggleDarkMode()</script><script>const mobileMenuButton=document.querySelector(".mobile-menu-button"),mobileMenu=document.querySelector(".mobile-menu");function toggleMenu(){mobileMenu.classList.toggle("hidden"),mobileMenu.classList.toggle("flex")}mobileMenu&&mobileMenuButton&&mobileMenuButton.addEventListener("click",toggleMenu)</script></body></html>