<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="https:/images/LTS.png">

  <title>
  Sending Flow Result Messages Back to a Power App - Lindsay T. Shelton
  </title>
  <meta name="description" content="Bing AI Image Creator got a little weird, but let’s go with it. The others were far weirder.
Recently I was asked if I could add a success message to a Power App – something to indicate that they’ve clicked the button. I added a beautiful spinner and dusted off my hands, job well done.
Well, no, they wanted to know that the Power Automate flow that the button triggered had actually run successfully." />
  <meta name="author" content="Lindsay Shelton" />
  <meta name="generator" content="Hugo 0.111.3"><link
    rel="stylesheet"
    href="https:/css/styles.min.c0846aac9db6c87efe354bad93a5e4432ef35cc12598aeed07df50323381cc06.css"
    integrity="sha256-wIRqrJ22yH7+NUutk6XkQy7zXMElmK7tB99QMjOBzAY="
  />
  
  

  <meta property="og:title" content="Sending Flow Result Messages Back to a Power App" />
<meta property="og:description" content="Bing AI Image Creator got a little weird, but let’s go with it. The others were far weirder.
Recently I was asked if I could add a success message to a Power App – something to indicate that they’ve clicked the button. I added a beautiful spinner and dusted off my hands, job well done.
Well, no, they wanted to know that the Power Automate flow that the button triggered had actually run successfully." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https:/blog/202304sending-flow-result-messages-back-to-a-power-app/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-04-14T14:49:05-05:00" />
<meta property="article:modified_time" content="2023-04-14T14:49:05-05:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sending Flow Result Messages Back to a Power App"/>
<meta name="twitter:description" content="Bing AI Image Creator got a little weird, but let’s go with it. The others were far weirder.
Recently I was asked if I could add a success message to a Power App – something to indicate that they’ve clicked the button. I added a beautiful spinner and dusted off my hands, job well done.
Well, no, they wanted to know that the Power Automate flow that the button triggered had actually run successfully."/>

  <meta itemprop="name" content="Sending Flow Result Messages Back to a Power App">
<meta itemprop="description" content="Bing AI Image Creator got a little weird, but let’s go with it. The others were far weirder.
Recently I was asked if I could add a success message to a Power App – something to indicate that they’ve clicked the button. I added a beautiful spinner and dusted off my hands, job well done.
Well, no, they wanted to know that the Power Automate flow that the button triggered had actually run successfully."><meta itemprop="datePublished" content="2023-04-14T14:49:05-05:00" />
<meta itemprop="dateModified" content="2023-04-14T14:49:05-05:00" />
<meta itemprop="wordCount" content="925">
<meta itemprop="keywords" content="power apps,power automate," />

  
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="https:/" class="capitalize font-extrabold text-2xl">
    
    <img src="https:/images/LTS2.png" alt="Lindsay T. Shelton" class="h-8 max-w-full" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="https:/blog">Blog</a></li>
    
    <li><a href="https:/page/about/">About</a></li>
    
    <li><a href="https:/tags">Tags</a></li>
    

    

    
    <li class="grid place-items-center">
      <span class="open-search inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="10" cy="10" r="7" />
          <line x1="21" y1="21" x2="15" y2="15" />
        </svg>
      </span>
    </li>
    

    
    <li class="grid place-items-center">
      <span class="toggle-dark-mode inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="3" />
          <line x1="12" y1="5" x2="12" y2="5.01" />
          <line x1="17" y1="7" x2="17" y2="7.01" />
          <line x1="19" y1="12" x2="19" y2="12.01" />
          <line x1="17" y1="17" x2="17" y2="17.01" />
          <line x1="12" y1="19" x2="12" y2="19.01" />
          <line x1="7" y1="17" x2="7" y2="17.01" />
          <line x1="5" y1="12" x2="5" y2="12.01" />
          <line x1="7" y1="7" x2="7" y2="7.01" />
        </svg>
      </span>
    </li>
    
  </ul>
</header>
<main class="flex-1">
  
  

  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Sending Flow Result Messages Back to a Power App</h1>
    
    <h5 class="text-sm flex items-center flex-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on 
  
    April 14, 2023
  


      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      5&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      925&nbsp;words
      
    </h5>
    

    <details id="TableOfContents" class="px-4 mt-4 bg-gray-100 dark:bg-gray-700 rounded toc">
    <summary class="flex items-center font-bold py-2 px-4 cursor-pointer justify-between select-none text-black dark:text-white">
      <span>Table of contents</span>
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <polyline points="6 9 12 15 18 9"></polyline>
     </svg>
    </summary>

    <ul class="mt-2 pb-4">
        

        
        <li>
        <a href="#the-flow-setup">The Flow Setup</a>
        

        
        </li><li>
        <a href="#the-scope-content">The Scope Content</a>
        

        
        </li><li>
        <a href="#the-power-app">The Power App</a>
        </li></ul>
  </details>

    <p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app1.png" alt="Placeholder">
Bing AI Image Creator got a little weird, but let’s go with it. The others were far weirder.</p>
<p>Recently I was asked if I could add a success message to a Power App – something to indicate that they’ve clicked the button. I added a beautiful spinner and dusted off my hands, job well done.</p>
<p>Well, no, they wanted to know that the Power Automate flow that the button triggered had actually run successfully. This took me putting on my thinking cap, and ultimately, it was going through and <a href="https://lindsaytshelton.com/2023/01/26/frankensteins-monster-error-handling-for-power-automate-cloud-flows/">tagging my older blog posts</a> that made me realize that I knew exactly how to do this. Probably. Hopefully.</p>
<h2 id="the-flow-setup">The Flow Setup</h2>
<p>So I went through my existing flow and moved all of the pertinent actions into a Scope block – just search for it, it’s a type of control block that I talked about in my <a href="https://lindsaytshelton.com/2023/01/26/frankensteins-monster-error-handling-for-power-automate-cloud-flows/">Frankenstein’s Error Handling</a> post.</p>
<p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app2.png" alt="Placeholder"></p>
<p>Note that not all of my blocks could go in here and that’s okay. Your Initialize Variables blocks, for example, cannot go inside scope. However, I only cared about the blocks that are liable to fail going inside the Scope block. I renamed my block to Scope – Try because this is what the flow will try to do.</p>
<p>Now, from here I made two more Scope blocks in a parallel branch – I added one and then click “Add a parallel branch”.</p>
<p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app3.png" alt="Placeholder"></p>
<p>I really recommend renaming these Scope blocks to help you keep track of which is which. One will hold your response for if the Scope – Try works, and one will hold your response for if it fails. Left or right, doesn’t matter.</p>
<p>What matters is what we will do next, so make sure you match this to the correct side. Click the three dots on one of the Scope blocks (the one you are using to capture the failure) and click “Configure run after”.</p>
<p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app4.png" alt="Placeholder"></p>
<p>By default, the first box will be checked. UNCHECK “is successful” and CHECK the other three boxes, like in my screenshot. This will mean that whatever is in this Scope block will happen if the Scope – Try fails, skips, or times out.</p>
<p>Now, go to your other Scope block – the one you are using if it succeeds. Just for good measure, do the same thing – click the three dots, click “Configure run after”, and make sure that ONLY “is successful” is checked on this one.</p>
<h2 id="the-scope-content">The Scope Content</h2>
<p>Now, inside each of your Scope – Failure and Success blocks, add the Respond to a PowerApp or flow action. Then, click that you want to add an output.</p>
<p>You can set this up how you’d like, but how I’d recommend is putting in as output the exact message you want users to see when there is a success or a failure. Important! Make the label name the same for both – I picked “Outcome”.</p>
<p>So in my Scope – Success block, I called the label “Outcome” and for the body, I put “Success!”. In my Scope – Failure block, I called the label “Outcome” as well, and for the body, I put a longer, more informational message: “Page creation failure, please try again”. Whatever you put here is what is going to show on your Power App directly.</p>
<p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app5.png" alt="Placeholder"></p>
<p>Now we are done with the Power Automate part – it’s time to go to your Power App.</p>
<h2 id="the-power-app">The Power App</h2>
<p>The first change I had to make to my Power App was where I was running the flow. The initial formula for running the flow was this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>OKRAddOneNotePage.Run(JSON({Email:User().Email...AddDetails:varAddDetails},JSONFormat.Compact));
</span></span></code></pre></div><p>So I just had to add a little to the front and the end:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>Set(varOutcome,OKRAddOneNotePage.Run(JSON({Email:User().Email,Goal:SelectedGoal.Text,KR:Title4.Text,Manager:varManager,AddDetails:varAddDetails},JSONFormat.Compact)).outcome);
</span></span></code></pre></div><p>I needed to set a variable, which I called varOutcome, to be tied to the flow run, and because I had those Respond to a PowerApp buttons, I was able to add the .outcome to the very end (which is why I wanted to name them both the same thing).</p>
<p>So now I have the outcome in my Power App – varOutcome – but I needed to show it to my user. I did this using a pop up.I</p>
<p>Also in the OnSelect when the button was pressed that started the flow, I added:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>Set(varShowPopup, true);
</span></span></code></pre></div><p>This creates a variable, varShowPopup, and sets it to true as soon as that button is clicked. Now I needed to create the popup to be shown.</p>
<p>First, I drew a rectangle over the entire window, and I set the color to a more transparent shade of my theme. This is optional, but I like the signal it sends that there’s going to be something new on the screen to interact with before you proceed on with your business.</p>
<p>I then drew a second white rectangle, centered in the middle of the screen. This is the popup itself. I added a little X in the corner so it can be closed, and I put a text label in the middle. I set the OnSelect for the X icon to “Set(varShowPopup,false)” to actually close the popup.</p>
<p>Now for the text label, I didn’t put actual text in it. I instead set it to be “varOutcome”. Now the text is going to show whatever varOutcome is – whether it be my “Success!” message or my “Page creation failure” message.</p>
<p>I put these elements into a group (a container would probably work just as well) and for the “visible” property of the group, I set it to “varShowPopup”.</p>
<p><img src="https:/images/sending-flow-result-messages-back-to-a-power-app6.png" alt="Placeholder"></p>
<p>Hopefully Success! is what you will have with this method as well!</p>

  </article>
<div class="px-2 mb-2">
  
  <script src="https://giscus.app/client.js"
    data-repo=""
    data-repo-id=""
    data-category=""
    data-category-id=""
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  
</div>
<div class="bg-pink-100 dark:bg-gray-900">
  <div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Follow me</div>
      <p class="opacity-60">Follow along for Power Platform, M365, and cat goodness</p>
    </div>

    <ul class="flex justify-center gap-x-3 flex-wrap gap-y-2">
      

      
      <li>
        <a
          href="https://twitter.com/LShelton_Tech"
          target="_blank"
          rel="noopener"
          aria-label="Twitter"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <path
              d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"
            />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
      <li>
        <a
          href="https://linkedin.com/in/lindsaytshelton"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
          class="p-1 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <rect x="4" y="4" width="16" height="16" rx="2" />
            <line x1="8" y1="11" x2="8" y2="16" />
            <line x1="8" y1="8" x2="8" y2="8.01" />
            <line x1="12" y1="16" x2="12" y2="11" />
            <path d="M16 16v-3a2 2 0 0 0 -4 0" />
          </svg>
        </a>
      </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      
    </ul>
  </div>
</div>

    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2023 - Lindsay Shelton · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>

<div class="search-ui absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-800 hidden">
  <div class="container max-w-3xl mx-auto p-12">
    <div class="relative">
      <div class="my-4 text-center text-2xl font-bold">Search</div>

      <span class="p-2 absolute right-0 top-0 cursor-pointer close-search">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </span>
    </div>

    <input type="search" class="py-2 px-3 w-full dark:text-black border dark:border-transparent"
      placeholder="Enter search query" />

    <div class="search-results text-lg font-medium my-4 hidden">Results</div>
    <ul class="search-list my-2">

    </ul>

    <div class="no-results text-center my-8 hidden">
      <div class="text-xl font-semibold mb-2">No results found</div>
      <p class="font-light text-sm">Try adjusting your search query</p>
    </div>
  </div>
</div>





<script src="https:/js/scripts.min.js"></script>






<script>
  
  const darkmode = document.querySelector('.toggle-dark-mode');
  function toggleDarkMode() {
    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('darkmode', 'light')
    } else {
      document.documentElement.classList.add('dark')
      localStorage.setItem('darkmode', 'dark')
    }
  }
  if (darkmode) {
    darkmode.addEventListener('click', toggleDarkMode);
  }

  const darkStorage = localStorage.getItem('darkmode');
  const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (!darkStorage && isBrowserDark) {
    document.documentElement.classList.add('dark');
  }

  if (darkStorage && darkStorage === 'dark') {
    toggleDarkMode();
  }
</script>


<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
